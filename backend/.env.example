# =============================================================================
# RASS Academy LMS - Backend Environment Configuration
# =============================================================================
# This file serves as a template for environment variables required by the
# backend server. Copy this file to `.env` and fill in the actual values.
# 
# IMPORTANT: Never commit the actual .env file to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# -----------------------------------------------------------------------------
# MongoDB connection string
# Production: Use MongoDB Atlas or your MongoDB cluster
# Development: Use local MongoDB or test instance
# Format: mongodb://username:password@host:port/database
# or mongodb+srv://username:password@cluster.mongodb.net/database
MONGO_URI=mongodb://localhost:27017/rass_academy

# -----------------------------------------------------------------------------
# SERVER CONFIGURATION
# -----------------------------------------------------------------------------
# Port number for the Express server (default: 8000)
PORT=8000

# Node environment (development, production, test)
# Affects logging, error handling, and CORS settings
NODE_ENV=development

# -----------------------------------------------------------------------------
# AUTHENTICATION & SECURITY
# -----------------------------------------------------------------------------
# JWT secret key for signing tokens
# MUST be a long, random, secure string in production
# Generate using: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# JWT token expiration time (e.g., '1h', '7d', '30d')
JWT_EXPIRE=7d

# -----------------------------------------------------------------------------
# PAYMENT GATEWAY (Razorpay)
# -----------------------------------------------------------------------------
# Razorpay API credentials
# Get from: https://dashboard.razorpay.com/app/keys
# Test keys start with 'rzp_test_', live keys start with 'rzp_live_'
RAZORPAY_KEY_ID=rzp_test_your_key_id
RAZORPAY_KEY_SECRET=your_razorpay_secret_key

# Razorpay webhook secret (for payment verification)
# Get from: https://dashboard.razorpay.com/app/webhooks
RAZORPAY_WEBHOOK_SECRET=your_webhook_secret

# -----------------------------------------------------------------------------
# EMAIL SERVICE (Nodemailer)
# -----------------------------------------------------------------------------
# Email service configuration for sending notifications
# Gmail example (requires app-specific password)
NODEMAILER_USER_EMAIL=your-email@gmail.com
NODEMAILER_USER_PASSWORD=your-app-specific-password

# Email service provider (gmail, sendgrid, mailgun, etc.)
EMAIL_SERVICE=gmail

# Email "From" name that appears in sent emails
EMAIL_FROM_NAME=RASS Academy

# -----------------------------------------------------------------------------
# RECAPTCHA (Google reCAPTCHA)
# -----------------------------------------------------------------------------
# For protecting forms from bots
# Get keys from: https://www.google.com/recaptcha/admin
RECAPTCHA_SECRET_KEY=your_recaptcha_secret_key

# -----------------------------------------------------------------------------
# FILE UPLOAD CONFIGURATION
# -----------------------------------------------------------------------------
# Maximum file size for uploads (in bytes)
# 50MB = 52428800 bytes
MAX_FILE_SIZE=52428800

# Allowed file types for uploads (comma-separated)
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,video/mp4,application/pdf

# Upload directory path (relative to backend root)
UPLOAD_DIR=./uploads

# -----------------------------------------------------------------------------
# CLOUD STORAGE (Optional)
# -----------------------------------------------------------------------------
# AWS S3 configuration (if using S3 for file storage)
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=rass-academy-files

# Cloudinary configuration (if using Cloudinary for media)
# CLOUDINARY_CLOUD_NAME=your_cloud_name
# CLOUDINARY_API_KEY=your_api_key
# CLOUDINARY_API_SECRET=your_api_secret

# -----------------------------------------------------------------------------
# AI/ML SERVICES (Optional)
# -----------------------------------------------------------------------------
# OpenAI API for AI Doubt Solver feature
# Get from: https://platform.openai.com/api-keys
# AI_API_KEY=sk-your_openai_api_key
# AI_MODEL=gpt-4
# AI_API_URL=https://api.openai.com/v1/chat/completions

# Alternative: Anthropic Claude
# AI_API_KEY=sk-ant-your_anthropic_key
# AI_MODEL=claude-3-opus-20240229
# AI_API_URL=https://api.anthropic.com/v1/messages

# -----------------------------------------------------------------------------
# THIRD-PARTY INTEGRATIONS (Optional)
# -----------------------------------------------------------------------------
# Video hosting service (Vimeo, YouTube, custom)
# VIDEO_SERVICE=vimeo
# VIMEO_ACCESS_TOKEN=your_vimeo_token
# VIMEO_CLIENT_ID=your_client_id
# VIMEO_CLIENT_SECRET=your_client_secret

# Zoom integration for live sessions
# ZOOM_CLIENT_ID=your_zoom_client_id
# ZOOM_CLIENT_SECRET=your_zoom_client_secret
# ZOOM_ACCOUNT_ID=your_zoom_account_id

# Google Meet integration
# GOOGLE_CLIENT_ID=your_google_client_id
# GOOGLE_CLIENT_SECRET=your_google_client_secret
# GOOGLE_REDIRECT_URI=http://localhost:8000/api/auth/google/callback

# -----------------------------------------------------------------------------
# RATE LIMITING (Recommended for Production)
# -----------------------------------------------------------------------------
# Maximum number of requests per time window
# RATE_LIMIT_MAX=100
# RATE_LIMIT_WINDOW_MS=900000  # 15 minutes in milliseconds

# -----------------------------------------------------------------------------
# LOGGING & MONITORING (Production)
# -----------------------------------------------------------------------------
# Log level (error, warn, info, debug)
# LOG_LEVEL=info

# Sentry DSN for error tracking (optional)
# SENTRY_DSN=your_sentry_dsn

# -----------------------------------------------------------------------------
# CORS CONFIGURATION
# -----------------------------------------------------------------------------
# Frontend URL for CORS (comma-separated for multiple origins)
# In production, set to your actual frontend domain
CORS_ORIGIN=http://localhost:5173,http://localhost:3000

# -----------------------------------------------------------------------------
# TEST ENVIRONMENT (for running tests)
# -----------------------------------------------------------------------------
# Separate database for testing (optional)
# TEST_MONGO_URI=mongodb://localhost:27017/rass_academy_test

# -----------------------------------------------------------------------------
# FEATURE FLAGS (Optional)
# -----------------------------------------------------------------------------
# Enable/disable specific features
# FEATURE_AI_DOUBT_SOLVER=true
# FEATURE_VIDEO_CONFERENCING=false
# FEATURE_GAMIFICATION=false
